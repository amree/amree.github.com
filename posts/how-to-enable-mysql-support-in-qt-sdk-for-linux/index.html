<!doctype html><html lang=en><head><title>How to Enable MySQL Support in Qt SDK for Linux :: Amree Zaid</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Known to work with:
 Slackware v13.37 Qt SDK v1.1.5 (32 bit) Qt v4.8.0 MySQL v5.5.18 "><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://amree.github.io/posts/how-to-enable-mysql-support-in-qt-sdk-for-linux/><link rel=stylesheet href=https://amree.github.io/assets/style.css><link rel=stylesheet href=https://amree.github.io/assets/green.css><link rel=apple-touch-icon href=https://amree.github.io/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=https://amree.github.io/img/favicon/green.png><meta name=twitter:card content="summary"><meta name=twitter:site content><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="How to Enable MySQL Support in Qt SDK for Linux"><meta property="og:description" content="Known to work with:
 Slackware v13.37 Qt SDK v1.1.5 (32 bit) Qt v4.8.0 MySQL v5.5.18 "><meta property="og:url" content="https://amree.github.io/posts/how-to-enable-mysql-support-in-qt-sdk-for-linux/"><meta property="og:site_name" content="Amree Zaid"><meta property="og:image" content="https://amree.github.io/img/favicon/green.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2009-07-22 00:00:00 +0000 UTC"></head><body class=green><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Amree Zaid</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=https://twitter.com/AmreeZaid>Twitter</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=https://twitter.com/AmreeZaid>Twitter</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=https://amree.github.io/posts/how-to-enable-mysql-support-in-qt-sdk-for-linux/>How to Enable MySQL Support in Qt SDK for Linux</a></h1><div class=post-meta><span class=post-date>2009-07-22</span></div><span class=post-tags>#<a href=https://amree.github.io/tags/qt/>qt</a>&nbsp;
#<a href=https://amree.github.io/tags/linux/>linux</a>&nbsp;</span><div class=post-content><div><p>Known to work with:</p><ul><li>Slackware v13.37</li><li>Qt SDK v1.1.5 (32 bit)</li><li>Qt v4.8.0</li><li>MySQL v5.5.18</li></ul><p>Please follow this guide properly:</p><ol><li><p>Download Qt SDK for Linux/X11 at Qt Software.</p></li><li><p>Install it anywhere you want, just make sure you remember the path. I installed mine at <code>/opt</code>.</p></li><li><p>To build MySQL as a plugin, you need to know two other paths:</p><p>MySQL header directory&rsquo;s files example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt>decimal.h   m_string.h      my_dbug.h    my_list.h        my_sys.h     mysql_embed.h    mysqld_error.h  sql_state.h        typelib.h
errmsg.h    my_alloc.h      my_dir.h     my_net.h         my_xml.h     mysql_time.h     raid.h          sslopt-case.h
keycache.h  my_attribute.h  my_getopt.h  my_no_pthread.h  mysql.h      mysql_version.h  readline.h      sslopt-longopts.h
m_ctype.h   my_config.h     my_global.h  my_pthread.h     mysql_com.h  mysqld_ername.h  sql_common.h    sslopt-vars.h
</code></pre></div><p>MySQL library directory&rsquo;s files example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt>libdbug.a    libmyisammrg.a      libmysqlclient.so@         libmysqlclient_r.a    libmysqlclient_r.so.15@      libmysys.a
libheap.a    libmysqlclient.a    libmysqlclient.so.15@      libmysqlclient_r.la*  libmysqlclient_r.so.15.0.0*  libvio.a
libmyisam.a  libmysqlclient.la*  libmysqlclient.so.15.0.0*  libmysqlclient_r.so@  libmystrings.a
</code></pre></div></li><li><p>I installed my MySQL at <code>/opt</code>, so those files will be in:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Headers directory</span>
/opt/mysql-5.5.18-linux2.6-i686/include/

<span style=color:#75715e># Libraries directory</span>
/opt/mysql-5.5.18-linux2.6-i686/lib
</code></pre></div></li><li><p>Go to your main Qt SDK installation&rsquo;s path:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cd /opt/QtSDK/
cd QtSources/4.8.0/src/plugins/sqldrivers
<span style=color:#75715e># Replace all the path based on your computer environment.</span>
/opt/QtSDK/Desktop/Qt/4.8.0/gcc/bin/qmake -o Makefile <span style=color:#e6db74>&#34;INCLUDEPATH+=/opt/mysql-5.5.18-linux2.6-i686/include/&#34;</span> <span style=color:#e6db74>&#34;LIBS+=-L/opt/mysql-5.5.18-linux2.6-i686/lib -lmysqlclient&#34;</span> mysql.pro
make
/opt/QtSDK/Desktop/Qt/4.8.0/gcc/bin/qmake <span style=color:#e6db74>&#34;INCLUDEPATH+=/opt/mysql-5.5.18-linux2.6-i686/include/&#34;</span> <span style=color:#e6db74>&#34;LIBS+=-L/opt/mysql-5.5.18-linux2.6-i686/lib -lmysqlclient_r&#34;</span> mysql.pro
make
make install
</code></pre></div></li><li><p>Some files with <code>mysql</code> in the name will be copied in your sqldrivers path:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt>/opt/QtSDK/Desktop/Qt/4.8.0/gcc/plugins/sqldrivers
</code></pre></div></li><li><p>Before trying your MySQL coding, please make sure <code>libmysqlclient.so</code> is in
the <code>LD_LIBRARY_PATH</code>.</p></li><li><p>Create a new project and put these codes to test your new plugin.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt>QT       += core sql
QT       -= gui

TARGET    = mysql
CONFIG   += console
CONFIG   -= app_bundle

TEMPLATE = app

SOURCES += main.cpp
</code></pre></div><p>Make sure you have <code>mysql</code> included in your <code>.pro</code> file.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;QCoreApplication&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;QtSql&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(<span style=color:#66d9ef>int</span> argc, <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>argv[])
{
  QCoreApplication a(argc, argv);

  qDebug() <span style=color:#f92672>&lt;&lt;</span> QSqlDatabase<span style=color:#f92672>::</span>drivers();

  <span style=color:#66d9ef>return</span> a.exec();
}
</code></pre></div><p>You should get <code>QMYSQL</code> in the outputs when you ran the application:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt>(&#34;QSQLITE&#34;, &#34;QMYSQL3&#34;, &#34;QMYSQL&#34;)
</code></pre></div><p>You can find my info at <a href=http://qt-project.org/doc/qt-4.8/sql-driver.html>http://qt-project.org/doc/qt-4.8/sql-driver.html</a>.</p></li></ol></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://amree.github.io/posts/configuring-linux-to-work-with-nvidia-hybrid-sli-technology/><span class=button__icon>←</span>
<span class=button__text>Configuring Linux to work with NVidia Hybrid SLI Technology</span></a></span>
<span class="button next"><a href=https://amree.github.io/posts/reading-mifare-1k-card-using-java-in-linux/><span class=button__text>Reading Mifare 1K Card using Java in Linux</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2021 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script src=https://amree.github.io/assets/main.js></script><script src=https://amree.github.io/assets/prism.js></script></div></body></html>